<div class="flex-auto border-t -mt-px pt-4 sm:pt-6 px-4" *ngIf="user?.profileVerified !== 1">
    <div class="w-full max-w-screen-xl mx-auto">
        <div [ngClass]="{
            'bg-primary-600': user?.profileVerified === 0,
            'bg-teal-600': user?.profileVerified === 2,
            'bg-red-900': user?.profileVerified === 3,
            'bg-violet-700': user?.profileVerified === 4
        }" class="rounded px-6 py-10 sm:py-12 sm:px-16 text-on-primary-600">
            <div *ngIf="user?.profileVerified === 0" class="flex flex-col items-center w-full max-w-7xl mx-auto text-center">
                <div class="text-3xl sm:text-4xl sm:text-5xl font-extrabold leading-6 sm:leading-10">
                    üòä You‚Äôre on your way to getting high paid commissions üöÄ !!
                </div>
                <div class="mt-5 text-xl sm:text-2xl sm:text-3xl font-bold leading-6 sm:leading-6">
                    You're just one step away from starting your earnings! To get approval, please complete the profile filling process.
                </div>
                <button [routerLink]="'/affliater/profile'" mat-raised-button class="mt-5 uppercase">
                    Complete Profile
                </button>
            </div>
            <div *ngIf="user?.profileVerified === 2" class="flex flex-col items-center w-full max-w-7xl mx-auto text-center">
                <div class="text-3xl sm:text-4xl font-extrabold leading-6 sm:leading-10">
                    üòä You're just one step away from starting your earnings üí∏!
                </div>
                <div class="mt-5 text-xl sm:text-xl font-medium leading-6 sm:leading-6">
                    The next step is approval ! Your application has been received. Now it needs to be reviewed. A real person
                    approves each application, so it may take at least 4-5 hours.
                </div>
                <div class="mt-5 text-xl sm:text-xl font-medium leading-6 sm:leading-6">
                    You will receive a notification once your account has been approved.
                </div>
                <blockquote class="mt-5 rounded bg-slate-100 py-5 px-5">
                    <p class="text-gray-900 font-semibold italic">Wealth is not about having a lot of money; it‚Äôs about having a lot of options.</p>
                    <p class="text-gray-900 mt-2 text-right">‚Äì Chris Rock</p>
                </blockquote>
            </div>
            <div *ngIf="user?.profileVerified === 3" class="flex flex-col items-center w-full max-w-7xl mx-auto text-center">
                <div class="text-3xl sm:text-4xl font-extrabold leading-6 sm:leading-10">
                    üôÅ Oops ! Account Verification Failed
                </div>
                <div class="mt-5 text-xl sm:text-2xl font-bold leading-6 sm:leading-6">
                    We regret to inform you that we are unable to approve your account at this time. We apologize for any inconvenience caused.
                </div>
                <p *ngIf="user?.rejectReason" class="mt-5 bg-white rounded-md text-gray-900 py-2 px-3">
                    <strong>Reject Reason:</strong> {{user?.rejectReason}}
                </p>
                <p *ngIf="defaultContent?.support?.content" [innerHTML]="defaultContent?.support?.content">
                </p>
            </div>
            <div *ngIf="user?.profileVerified === 4" class="flex flex-col items-center w-full max-w-7xl mx-auto text-center">
                <div class="text-3xl sm:text-4xl font-extrabold leading-6 sm:leading-10">
                    üòå Verification Status: Temporary Hold 
                </div>
                <div class="mt-5 text-xl sm:text-2xl font-bold leading-6 sm:leading-6">
                    Your verification is currently on hold as we encountered some challenges while verifying your identity. Rest assured, we are doing our utmost to resolve the issue and complete the verification process.
                </div>
            </div>
        </div>
    </div>
</div>
<div class="flex-auto border-t -mt-px pt-4 sm:pt-6 px-4" [ngClass]="user?.profileVerified !== 1 ? 'blur-sm' : ''">
    <div class="w-full max-w-screen-xl mx-auto" [ngClass]="user?.profileVerified !== 1 ? 'touch-none pointer-events-none' : ''">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-4">
            <!-- <div class="px-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                        Commission Rate
                    </div>
                </div>
                <div class="flex items-center mt-1">
                    <div class="flex flex-col">
                        <div class="text-3xl font-semibold tracking-tight leading-tight">
                            {{user?.roles?.[0]?.commissionDetails?.commissionRate}} %
                        </div>
                        <div class="flex items-center">
                            <p>Affliate Code: 
                                <strong class="text-green-600 underline uppercase">{{user?.affiliateUserName}}</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="px-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between">
                    <div class="text-lg text-dark font-medium tracking-tight leading-6 truncate">Life Time Earnings</div>
                    <div class="ml-2 -mt-2 -mr-3">
                        <button
                            [matTooltip]="'Total Amount Received Thus Far from Affiliate Program'"
                            mat-icon-button>
                            <mat-icon
                                class="icon-size-5 text-blue-500"
                                [svgIcon]="'heroicons_solid:information-circle'"></mat-icon>
                        </button>
                    </div>
                </div>
                <div class="flex items-center mt-1">
                    <div class="flex flex-col">
                        <div class="text-3xl font-semibold tracking-tight leading-tight">
                            {{dashboard?.earnings?.lifetime || 'N/A'}}
                        </div>
                        <div class="flex flex-col">
                            <p>Last 7 days: <strong>{{dashboard?.earnings?.lastWeek || 'N/A'}}</strong></p>
                            <p>Last 30 days: <strong>{{dashboard?.earnings?.lastMonth || 'N/A'}}</strong></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="px-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between">
                    <div class="text-lg text-dark font-medium tracking-tight leading-6 truncate">
                        Projected Revenue
                    </div>
                    <div class="ml-2 -mt-2 -mr-3">
                        <button
                            [matTooltip]="'Projected Total Amount to be Received from Affiliate Program'"
                            mat-icon-button>
                            <mat-icon
                                class="icon-size-5 text-blue-500"
                                [svgIcon]="'heroicons_solid:information-circle'"></mat-icon>
                        </button>
                    </div>
                    <!-- <div class="ml-2 -mt-2 -mr-3">
                        <button
                            mat-icon-button
                            [matMenuTriggerFor]="yearlyExpensesMenu">
                            <mat-icon
                                class="icon-size-5"
                                [svgIcon]="'heroicons_solid:dots-vertical'"></mat-icon>
                        </button>
                        <mat-menu #yearlyExpensesMenu="matMenu">
                            <button mat-menu-item>This week</button>
                            <button mat-menu-item>Last week</button>
                            <button mat-menu-item>2 weeks ago</button>
                        </mat-menu>
                    </div> -->
                </div>
                <div class="flex items-center mt-1">
                    <div class="flex flex-col">
                        <div class="text-3xl font-semibold tracking-tight leading-tight">
                            {{(dashboard?.pending?.lifetime | currency: 'INR') || 'N.A'}}
                        </div>
                        <div class="flex items-center">
                        </div>
                    </div>
                </div>
            </div>
            <div class="px-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between">
                    <div class="text-lg text-dark font-medium tracking-tight leading-6 truncate">
                        Life Time Campaign Stats
                    </div>
                </div>
                <div class="flex items-center mt-1">
                    <div class="flex flex-col">
                        <div class="flex flex-col">
                            <p>Leads: <strong>{{dashboard?.conversions?.lifetime?.lead || 'N/A'}}</strong></p>
                            <p>Conversions: <strong>{{dashboard?.conversions?.lifetime?.conversion || 'N/A'}}</strong></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="dataFetched">
            <div class="text-3xl font-semibold tracking-tight leading-8 mt-8">
                Affiliate Products
            </div>
            <div class="font-medium tracking-tight text-secondary">
                Here is the active affiliate products, using copy link option start your campaign 
            </div>
        </div>
        <ng-container *ngIf="this.products.length">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-8 sm:mt-10 mb-5">
                <ng-container *ngFor="let product of products">
                    <!-- Course -->
                    <div class="flex flex-col h-auto shadow rounded-2xl overflow-hidden bg-card">
                        <div class="flex flex-col p-6">
                            <div class="course-image bg-gray-100">
                                <img class="object-scale-down w-full h-full" [src]="product?.image" onerror="this.src='assets/images/backgrounds/image_not_available.png';">
                            </div>
                            <!-- <div class="flex items-center justify-between">
                                <ng-container>
                                    <div
                                        class="py-0.5 px-3 rounded-full text-sm font-semibold"
                                        [ngClass]="{'text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500': category.slug === 'web',
                                                    'text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500': category.slug === 'android',
                                                    'text-pink-800 bg-pink-100 dark:text-pink-50 dark:bg-pink-500': category.slug === 'cloud',
                                                    'text-amber-800 bg-amber-100 dark:text-amber-50 dark:bg-amber-500': category.slug === 'firebase'}">
                                        {{product.title}}
                                    </div>
                                </ng-container>
                                <div class="flex items-center">
                                    <ng-container>
                                        <mat-icon
                                            class="icon-size-5 text-green-600"
                                            [svgIcon]="'heroicons_solid:badge-check'"
                                            [matTooltip]="'You completed this course at least once'"></mat-icon>
                                    </ng-container>
                                </div>
                            </div> -->
                            <!-- Course title & description -->
                            <div class="mt-4 text-md font-medium truncate">#{{product.id}} - {{product.productTitle}}</div>
                            <div class="mt-0.5 line-clamp-2 text-secondary text-sm min-h-10">{{product.productDescription}}</div>
                            <div class="w-12 h-1 my-6 border-t-2"></div>
                            <!-- Course time -->
                            <div class="flex cursor-default items-center leading-5 text-md text-secondary">
                                <mat-icon [matTooltip]="'Expiry Date'"
                                    class="icon-size-5 text-hint">pending_actions</mat-icon>
                                <div class="ml-1.5">{{product?.expiryDate ? (product?.expiryDate | date: 'medium') : 'No Expiry'}}</div>
                            </div>
                            <!-- Course completion -->
                            <div class="flex cursor-default items-center mt-2 leading-5 text-md text-secondary">
                                <mat-icon [matTooltip]="'Amount'" 
                                    class="icon-size-5 text-hint">payments</mat-icon>
                                <ng-container>
                                    <div class="ml-1.5" *ngIf="product?.offerPrice">
                                        <strong class="mr-3">{{product?.offerPrice | currency:'INR':'symbol':'1.2-4'}}</strong>
                                        <strike>({{product?.price | currency:'INR':'symbol':'1.2-4'}})</strike>
                                    </div>
                                    <div class="ml-1.5" *ngIf="!product?.offerPrice">
                                        <strong>{{product?.price | currency:'INR':'symbol':'1.2-4'}}</strong>
                                    </div>
                                </ng-container>
                            </div>
                            <dic class="justify-between flex">
                                <span class="w-fit bg-gradient-to-r from-green-400 to-blue-500 text-white rounded mt-2 px-3 py-1">
                                    Commission:&nbsp;<strong class="font-mono">{{product?.userSpecialCommission || product?.defaultCommission}}%</strong>
                                </span>
                                <button [routerLink]="'/affliater/analytics'" [queryParams]="{ product: product.id }" [matTooltip]="'View Analytics'" mat-icon-button>
                                    <mat-icon svgIcon="bar_chart"></mat-icon>
                                </button>
                            </dic>
                            
                            <!-- <div class="flex bg-amber-500 pt-px pb-px align-center justify-center cursor-default items-center mt-3 leading-5 text-md text-secondary rounded text-white uppercase">
                                Commission:&nbsp;<strong class="text-white font-mono text-lg">{{product?.userSpecialCommission || product?.defaultCommission}}%</strong>
                            </div> -->
                        </div>
                        <!-- Footer -->
                        <div class="flex flex-col w-full mt-auto">
                            <!-- Course progress -->
                            <!-- <div class="relative h-0.5">
                                <div
                                    class="z-10 absolute inset-x-0 h-6 -mt-3"
                                    [matTooltip]="course.progress.currentStep / course.totalSteps | percent"
                                    [matTooltipPosition]="'above'"
                                    [matTooltipClass]="'-mb-0.5'"></div>
                                <mat-progress-bar
                                    class="h-0.5"
                                    [value]="(100 * course.progress.currentStep) / course.totalSteps"></mat-progress-bar>
                            </div> -->

                            <!-- Course launch button -->
                            <div class="px-6 py-4 text-right bg-gray-50 dark:bg-transparent">
                                <a (click)="copyAffiliateLink(product)" mat-stroked-button matTooltip="Copy the affiliate link">
                                    <span class="inline-flex items-center">
                                        <!-- Started -->
                                        <ng-container>
                                            <span>Copy Link</span>
                                        </ng-container>

                                        <mat-icon
                                            class="ml-1.5 icon-size-5">
                                            content_copy</mat-icon>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </ng-container>
            </div>
        </ng-container>
    </div>
</div>